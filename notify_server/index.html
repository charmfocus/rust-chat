<html>

<head>
    <title>SSE Example</title>
</head>

<body>
    <h1>SSE Example</h1>
    <script>
        let token = 'eyJhbGciOiJFZERTQSIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE3MzMwMzIyMzAsImV4cCI6MTczMzYzNzAzMCwibmJmIjoxNzMzMDMyMjMwLCJpc3MiOiJjaGF0X3NlcnZlciIsImF1ZCI6ImNoYXRfd2ViIiwiaWQiOjEsIndvcmtzcGFjZV9pZCI6MSwiZnVsbG5hbWUiOiJ3aWtpIiwiZW1haWwiOiJjaGFybWZvY3VzQGdtYWlsLmNvbSIsImNyZWF0ZWRfYXQiOiIyMDI0LTEyLTAxVDA0OjM2OjQ2LjcwNjQ5MVoifQ.0c1PWZn2NktYmJJKDX-aPU_EisyBPdRSTDvH_mwbXYShR-UzYmrsTvs03urXwIP5JjAVfDw6CEPVqBUgeOf5BQ';
        const source = new EventSource(`/events?token=${token}`);
        source.onmessage = function (event) {
            console.log("Got:" + event.data);
        };

        source.addEventListener("NewChat", function (event) {
            console.log("NewChat:", event.data);
        });

        source.addEventListener("AddToChat", function (event) {
            console.log("AddToChat:", event.data);
        });

        source.addEventListener("RemoveFromChat", function (event) {
            console.log("RemoveFromChat:", event.data);
        });

        source.addEventListener("NewMessage", function (event) {
            console.log("NewMessage:", event.data);
        });
    </script>
</body>

</html>
